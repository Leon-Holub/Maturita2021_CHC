# 20.Pokročilé techniky objektového programování

## Agregace

* Mluvíme o agregaci pokud nějaká **třída obsahuje jiné třídy (také se jím říká komponenty)**. 
* Pomocí agregace můžeme tvořit složitější třídy pomocí jednodušších. 
* Konstruktory se v takovém případě chovají tak, že dříve, než se spustí konstruktor třídy, jejíž instanci vytváříme, nejprve se vytvoří instance tříd, které tato třída obsahuje (jejich konstruktory se tedy volají dříve). Volání destruktorů probíhá přesně opačně.

### Příklad

```
#include<iostream>
#define SIZEARRAY 3
using namespace std;

class CA{
  private:
  int m_iNumber;
  
  public:
    CA():m_iNumber(SIZEARRAY)
      { cout << "Konstruktor CA\n";}
    ~CA(){ cout << "Destruktor CA\n";}
    void SetNumber(int a){m_iNumber=a;}
    int GetNumber(void) const {return m_iNumber;}
};

class CB{
  private:
    CA m_CA[SIZEARRAY];
  public:
    CB() { cout << "Konstruktor CB\n";}
    ~CB(){ cout << "Destruktor CB\n";}

    int Suma(void) const{
      int iSuma=0;
      for(int i=0;i<SIZEARRAY;i++)
        iSuma+=m_CA[i].GetNumber();
      
      return iSuma;
};

int main (void)
{
  CB a;
  cout<<"\n "<<a.Suma()<<"\n\n";
  return 0;

}
```

### Vypíše se

```
Konstruktor CA Konstruktor CA Konstruktor CA
Konstruktor CB
9
Destruktor CB
Destruktor CA Destruktor CA Destruktor CA
```
